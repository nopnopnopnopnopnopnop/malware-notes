
### Static linking

- Static is one the most uncommon type of linking.
- A statically library is copied to the executable, making it grow in size.
- Worse for analysing, as it's difficult to differ between the executable's code and the statically linked code.

---
## Runtime linking

- Runtime linking is popular within packed/obfuscated malware.
- It only connects to libraries when function needs it, not at start.

---
## Dynamic linking

- The most used one
- It connects to libraries right at the start of the program.
- PE (Portable Executable) file header stores every information about every library that will be loaded.
- We can use tool called **Dependency Walker** to see dynamically linked libraries.
<img src="https://raw.githubusercontent.com/x1trap/malware-notes/main/Linking%20%26%20functions/Pasted%20image%2020231024223047.png">
  1) Shows all imported libraries<br>
  2) Shows all imported functions<br>
  3) Shows all functions that can be imported from the library<br>
  4) Additional information - tells us the version of DLLs<br>
  5) Shows errors.<br>

#### Some DLLs and their description
<img src="https://raw.githubusercontent.com/x1trap/malware-notes/main/Linking%20%26%20functions/Pasted%20image%2020231024223327.png">

**Detecting suspicious DLLs is easy with `pestudio` :** <br>
<img src="https://raw.githubusercontent.com/x1trap/malware-notes/main/Linking%20%26%20functions/Pasted%20image%2020231026232524.png">
- it will show you this "x", meaning that this DLL is usually used for malicious purposes and should be investigated.
- it also shows you the description, which is nice : <br>
<img src="https://raw.githubusercontent.com/x1trap/malware-notes/main/Linking%20%26%20functions/Pasted%20image%2020231026232648.png">

